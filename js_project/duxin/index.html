<!DOCTYPE html>
<html lang="ch">
<head>
	<meta charset="UTF-8">
	<title>读心术小游戏</title>
	<style>
		*{
			margin: 0;
			padding: 0;
			font-family: 微软雅黑;
		}
		.img-box{
			width: 80%;
			float: left;		
		}
		.img-box div {
		    float: left;
		    width: 11%;
		    margin-right: 1%;
		    margin-left: 1%;
		    overflow: hidden;
		    margin-bottom: 20px;
		}
		.img-box img{
			border-radius:90px;
		}
		.img-box span{
			display: block;
			text-align: center;
			font-size: 20px;
			width: 70px;
		}
		.sider{
			width: 20%;
			float: right;	
			height: 50px;
		}
		.container{
			width: 90%;
			margin: 30px auto;
		}
		.wrap{
		    float: left;
		    width: 100%;
		    padding: 12px;
		    margin: 23px auto;
		    border: 1px solid #07141d;
		    box-shadow: 0 0 10px #153e59;
		}
		.reset_btn,.stop_btn{
			margin: 20px auto;
			padding:2%;
			width: 40%;
			font-size: 20px;			
			background: #fff;
			color: #ff9d00;	
			text-align: center;
			border:1px solid #000;
			border-radius: 3px;		
			transition:all 1s ease;
			cursor: pointer;
		}
		.selected_pic{
		    width: 90%;
		    margin-left: 5%;
		    padding-bottom: 90%;
		    border-radius: 4000px;
		    border: 1px solid #000;
		    margin-bottom: 30px;
		}
		.reset_btn:hover,.stop_btn:hover{
			color: #fff;
			background: #ff9d00;
		}
		.instruction h2{
			text-align: center;
		}
		.instruction p {
			margin:0 auto;
		    margin-top: 20px;
		    width: 86%;
		}
	</style>
</head>
<body>
	<div class="container">
		<div class="wrap  clearfix">
			<div class="img-box clearfix">
				   
			</div>
			<div class="sider">
				<div class="selected_pic">
					 	
				</div>
				<div class="reset_btn">
					刷新
				</div>
				<div class="stop_btn">
					停止
				</div>
				<div class="instruction">
					<h2>读心术游戏说明:</h2>
					<p>
						请先选择大于9并且小于98的数，将该数减去该数的个位数，再减去该数的十位数，得到结果，在心中默念这个数，看左边的图片，记下与这个数对应的图片，然后点击右上角的圆圈，我将能预测你心里想的图片是什么！如果不信，可以点刷新再点停止，不妨多试几次。
					</p>
				</div>
			</div>
		</div>
	</div>
<script>
//先循环展示6张图，css设置
//再让他们随机显示出来
//点击刷新随机显示图片
//点击圆显示第2张图
	(function(){
		imgList = document.querySelectorAll('.img-box div img');
		Ibox = document.querySelector('.img-box');
		Reset = document.querySelector('.reset_btn');
		Stop = document.querySelector('.stop_btn');
		Slepic =document.querySelector('.selected_pic');	
		var str='';
		a= ~~(Math.random()*18);
		for(i=0;i<98;i++){
			if(i%9){
			var ran = ~~(Math.random()*18);
			str += `<div><img src="images/${ran}.jpg" height="70px" width="70px"><span>${i}</span></div>`;
			}
			else{
			str += `<div><img src="images/${a}.jpg" height="70px" width="70px"><span>${i}</span></div>`;	
			}
		}
	Ibox.innerHTML = str;
	})();
	Reset.onclick=function(){
		change();
	};		
	Slepic.onclick=function(){		
		imgList = document.querySelectorAll('.img-box div img');
		var str1='';	
		str1 = imgList[9].src;
		this.style.background='url('+str1+')';
		this.style.backgroundSize="cover";
	};  
	function change(){		
	//imgList =[0,1,2,3];
	 
     imgList =document.querySelectorAll('.img-box div img');
     console.log(imgList);            //这不是一个真的数组，这个伪数组需要先转换为数组
			timer=setInterval(
				function(){
					a= ~~(Math.random()*18);
				[].forEach.call(imgList, function(childEl,idx) {			

				  console.log(childEl);
				  if(idx%9){
				  		var ran = ~~(Math.random()*18);		//随机生成0~7的整数
						 childEl.src=`images/${ran}.jpg`;		//换图片${}用于获取第几张
				  }
					else{
						childEl.src=`images/${a}.jpg`;
					}		
				})},100)	
	 }
	 Stop.onclick=function(){							
		window.clearInterval(timer);
	 }
</script>
</body>
</html>