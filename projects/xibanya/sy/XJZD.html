<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport" />
    <link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="../scmd3/css/calendar_end.css">
    <link rel="stylesheet" href="css/XJZD.css">
	<title>新建追单</title>
	<style>
		.content1{
            display: none;
            background: #fff;
		    position: absolute;
		    top: 86px;
		    left: 0;
		    padding-top: 33px;
		    width: 100%;
		    height: 100%;
		    z-index: 10;
        }
        .reach_word,.leave_word{
        	position: absolute;
        	top: 12px;
        	left: 0;
        	width: 100%;
        	text-align: center;
        	z-index: 12;
        	display: none;
			font-size: 15px;
        }
        .confirm_btn{
        	color: #1fbdef;
        	font-size: 17px;
        	position: absolute;
        	top: 31px;
        	right: 20px;
        }
	</style>
</head>
<body scroll="no" style="overflow-x:hidden;">
	<div class="header">
		<div class="container">
			<div class="header-l">
				<a href=""><img src="images/order_04_03.png"></a>
			</div>
			<div class="shxq" style="color:#000">
				<small>新建追单</small>
			</div>
		</div>
	</div>
		<!-- 日历模块 -->
<div class="content1">
	<div class="reach_word">抵达时间</div>
	<div class="leave_word">离开时间</div>
	<div class="confirm_btn">确定</div>
		<div class="account-box">
	        <h2 class="account-title">
	            <div class="clearfix center">
	               <div class="f-riqi"><span class="f-year">2017</span>-<span class="f-month">1</span></div><!-- 一定不能换行-->
	            </div>
	        </h2>
	        <div class="f-rili-table">
	            <div class="f-rili-head celarfix">
	                <div class="f-rili-th">日</div>
	                <div class="f-rili-th">一</div>
	                <div class="f-rili-th">二</div>
	                <div class="f-rili-th">三</div>
	                <div class="f-rili-th">四</div>
	                <div class="f-rili-th">五</div>
	                <div class="f-rili-th">六</div>
	                <div class="clear"></div>
	            </div>
	            <div class="f-tbody clearfix">

	            </div>
	        </div>
	    </div>
	    <div class="account-box">
	        <h2 class="account-title">
	            <div class="clearfix center">
	               <div class="f-riqi"><span class="f-year1">2017</span>-<span class="f-month1">1</span></div><!-- 一定不能换行-->
	            </div>
	        </h2>
	        <div class="f-rili-table1">
	            <div class="f-rili-head celarfix">
	                <div class="f-rili-th">日</div>
	                <div class="f-rili-th">一</div>
	                <div class="f-rili-th">二</div>
	                <div class="f-rili-th">三</div>
	                <div class="f-rili-th">四</div>
	                <div class="f-rili-th">五</div>
	                <div class="f-rili-th">六</div>
	                <div class="clear"></div>
	            </div>
	            <div class="f-tbody1 clearfix">

	            </div>
	        </div>
	    </div>
	    <div class="account-box">
	        <h2 class="account-title">
	            <div class="clearfix center">
	               <div class="f-riqi"><span class="f-year2">2017</span>-<span class="f-month2">1</span></div><!-- 一定不能换行-->
	            </div>
	        </h2>
	        <div class="f-rili-table2">
	            <div class="f-rili-head celarfix">
	                <div class="f-rili-th">日</div>
	                <div class="f-rili-th">一</div>
	                <div class="f-rili-th">二</div>
	                <div class="f-rili-th">三</div>
	                <div class="f-rili-th">四</div>
	                <div class="f-rili-th">五</div>
	                <div class="f-rili-th">六</div>
	                <div class="clear"></div>
	            </div>
	            <div class="f-tbody2 clearfix">

	            </div>
	        </div>
	    </div>
	</div>
	<!--主内容区-->
	<div class="content">
		<div class="content-1">
			<div class="container">
				<div class="search">
					<p>商家名称及地址<a href="../scmd1/search_store.html"><small>搜索商家</small>&nbsp;<img src="images/search-1.png"></a></p>
				</div>
				<div class="search-1">
					<input type="text" name="" placeholder="请填写商家名称">
					<a href=""><img src="images/drop.png"></a>
				</div>
			</div>
		</div>

		<div class="content-1">
			<div class="container">
				<div class="search">
					<p>消费日期</p>
				</div>
				<div class="search-1">
					<input type="text" class="buy_date"  name="buy_date" placeholder="请选择消费日期">
					<a href="javascript:;"><img src="PHONEINDEX_IMG/drop.png"></a>
				</div>
			</div>
		</div>

		<div class="content-2">
			<div class="container">
				<div class="search">
					<p>实际消费金额<small>（欧元）</small></p>
				</div>
				<div class="search-1">
					<input type="text" name="" placeholder="请填写实际消费金额">
				</div>
			</div>
		</div>

		<div class="content-3">
			<div class="container">
				<div class="pz">
					<p>上传凭证</p>
				</div>
				<div class="photo">
					<img src="images/pz.png">
					<img src="images/pz.png">
					<img src="images/pz.png">
					<a href=""><img src="images/photo.png"></a>
				</div>
			</div>
		</div>

		<div class="content-4">
			<div class="container">
				<div class="search">
					<p>团员护照号</p>
				</div>
				<div class="search-1">
					<input type="text" name="" placeholder="请填写团员护照号">
				</div>
			</div>
		</div>

		<div class="content-5">
			<div class="container">
				<div class="search">
					<p>团员姓名（拼音）</p>
				</div>
				<div class="search-1">
					<input type="text" name="" placeholder="请填写团员姓">
					<input type="text" name="" placeholder="请填写团员名">
				</div>
			</div>
		</div>

		<div class="content-6">
			<div class="container">
				<div class="search">
					<p>产品描述</p>
				</div>
				<div class="search-1">
					<textarea rows="2" cols="50"> 请填写产品描述</textarea>
				</div>
			</div>
		</div>

		<div class="content-7">
			<div class="container">
				<div class="search">
					<p>备注留言</p>
				</div>
				<div class="search-1">
					<textarea rows="2" cols="50"> 请填写备注留言</textarea>
				</div>
			</div>
		</div>

		<div class="content-8">
			<div class="container">
				<div class="search">
					<p>您是否提交过名单给卖家</p>
				</div>
				<div class="search-1">
					<input type="text" name="sub_list" id="sub_list" placeholder="请选择">
					<a href=""><img src="images/drop.png"></a>
					<div class="choose_box">
						<div class="choose_li">是</div>
						<div class="choose_li">否</div>
					</div>
				</div>
			</div>
		</div>
		<div class="content-9">
			<div class="container">
				<a href="5">
					<div class="footer-1">
						提交追单
					</div>
				</a>
			</div>
		</div>
	</div>
	<script src="js/holder.min.js"></script>	
	<script src="js/jquery.min.js"></script>
	<script src="js/bootstrap.min.js"></script>
	<script>
		$('#sub_list').click(function(event) {
		$('.choose_box').slideToggle();
	});	
	$('.choose_li').click(function() {
		var s=$(this).html();	//input无法用name找到
		//$(this).parent().siblings(":input").val($(this).text());
		$('#sub_list').val(s);
		$('.choose_box').slideToggle();
	});
	function hasClass1(element, cls) {
		    return (' ' + element.className + ' ').indexOf(' ' + cls + ' ') > -1;
		}
		
    
$(function(){
                //页面加载初始化年月
                var mydate = new Date();
                $(".f-year").html( mydate.getFullYear() );
                $(".f-month").html( mydate.getMonth()+1 ); 
                if (mydate.getMonth()==11) {                  
                $(".f-year1").html( mydate.getFullYear()+1 );
                $(".f-month1").html( 1);
                }
                else{
                $(".f-year1").html( mydate.getFullYear() );
                $(".f-month1").html( mydate.getMonth()+2 );
                }     
                if (mydate.getMonth()==10) {
                  $(".f-year2").html( mydate.getFullYear()+1 );
                  $(".f-month2").html( 1);  
                }
                else if (mydate.getMonth()==11) {
                  $(".f-year2").html( mydate.getFullYear()+1 );
                  $(".f-month2").html( 2);  
                }   
                else{
                  $(".f-year2").html( mydate.getFullYear() );
                  $(".f-month2").html( mydate.getMonth()+3 );  
                }  
                showDate1(mydate.getFullYear(),mydate.getMonth()+1);
                })
                //日历上一月
                $(".f-btn-jian ").click(function(){
                    var mm = parseInt($(".f-month").html());
                    var yy = parseInt($(".f-year").html());
                    if( mm == 1){//返回12月
                        $(".f-year").html(yy-1);
                        $(".f-month").html(12);
                        showDate1(yy-1,12);
                    }else{//上一月
                        $(".f-month").html(mm-1);
                        showDate1(yy,mm-1);
                    }
                })
                //日历下一月
                $(".f-btn-jia").click(function(){
                    var mm = parseInt($(".f-month").html());
                    var yy = parseInt($(".f-year").html());
                    if( mm == 12){//返回12月
                        $(".f-year").html(yy+1);
                        $(".f-month").html(1);
                        showDate1(yy+1,1);
                    }else{//上一月
                        $(".f-month").html(mm+1);
                        showDate1(yy,mm+1);
                    }
                })
                //返回本月
                $(".f-btn-fhby").click(function(){
                    $(".f-year").html( mydate.getFullYear() );
                    $(".f-month").html( mydate.getMonth()+1 );
                    showDate1(mydate.getFullYear(),mydate.getMonth()+1);
                })
                
            function showDate1(yyyy,mm){
                var mydate = new Date();
                var mystr ="";
                function showDate(yyyy,mm){
                    var dd = new Date(parseInt(yyyy),parseInt(mm), 0);   //Wed Mar 31 00:00:00 UTC+0800 2010  
                    var daysCount = dd.getDate();            //本月天数  
                   
                    var icon = "";//图标代码
                    var today = new Date().getDate(); //今天几号  21
                    var monthstart = new Date(parseInt(yyyy)+"/"+parseInt(mm)+"/1").getDay()//本月1日周几  
                    var lastMonth; //上一月天数
                    var nextMounth//下一月天数
                    if(  parseInt(mm) ==1 ){
                        lastMonth = new Date(parseInt(yyyy)-1,parseInt(12), 0).getDate();
                    }else{
                        lastMonth = new Date(parseInt(yyyy),parseInt(mm)-1, 0).getDate();
                    }
                    if( parseInt(mm) ==12 ){
                        nextMounth = new Date(parseInt(yyyy)+1,parseInt(1), 0).getDate();
                    }else{
                        nextMounth = new Date(parseInt(yyyy),parseInt(mm)+1, 0).getDate();
                    }
                    //计算上月空格数
                    for(j=monthstart;j>0;j--){
                        mystr += "<div class='f-td f-null f-lastMonth' style='color:#ccc;'>"+(lastMonth-j+1)+"</div>";
                    }
                    
                    //本月单元格
                    for(i=0;i<daysCount;i++){
                         //这里为一个单元格，添加内容在此
                        mystr += "<div class='f-td f-number'><span class='f-day'>"+(i+1)+"</span>"
                                +"<div class='f-yuan'></div>"
                                +"<div class='f-table-msg'>回款中<span class='major'>1</span>笔。回款本息;<span class='major'>1，000，000</span>元</div>"//这里加判断
                                +"</div>"; 
                    }
                    
                    //计算下月空格数
                    for(k=0; k<42-(daysCount+monthstart);k++ ){//表格保持等高6行42个单元格
                        mystr += "<div class='f-td f-null f-nextMounth' style='color:#ccc;'>"+(k+1)+"</div>";
                    }
                     
                    
                    
                    //写入日历
                    
                    //给今日加class
                   
                    
                    //绑定查看方法
                    $(".f-yuan").off("mouseover");
                    $(".f-yuan").on("mouseover",function(){
                        $(this).parent().find(".f-table-msg").show();
                    });
                    $(".f-table-msg").off("mouseover");
                    $(".f-table-msg").on("mouseover",function(){
                        $(this).show();
                    });
                    $(".f-yuan").off("mouseleave");
                    $(".f-yuan").on("mouseleave",function(){
                        $(this).parent().find(".f-table-msg").hide();
                    });
                    $(".f-table-msg").off("mouseleave");
                    $(".f-table-msg").on("mouseleave",function(){
                        $(this).hide();
                    });
                }
                showDate(yyyy,mm);
                $(".f-rili-table .f-tbody").html(mystr);
                // 下个月
                mystr='';
                if (mm==12) {
                    mm=1;
                    yyyy+=1;
                    showDate(yyyy+1,1);
                    $(".f-rili-table1 .f-tbody1").html(mystr);
                   } 
                else{
                    showDate(yyyy,mm+1);
                    $(".f-rili-table1 .f-tbody1").html(mystr);
                }
                //下下月
                 mystr='';
                if (mm==11) {
                    mm=1;
                    yyyy+=1;
                    showDate(yyyy+1,1);
                    $(".f-rili-table2 .f-tbody2").html(mystr);
                   } 
                else if (mm==12) {
                    mm=2;
                    yyyy+=1;
                    showDate(yyyy+1,2);
                    $(".f-rili-table2 .f-tbody2").html(mystr);
                   } 
                else{
                    showDate(yyyy,mm+2);
                    $(".f-rili-table2 .f-tbody2").html(mystr);
                }
                 if( mydate.getFullYear() == yyyy){
                        if( (mydate.getMonth()+1 ) == mm){
                            var today = mydate.getDate();
                            var lastNum = $(".f-lastMonth").length;
                            $(".f-rili-table .f-td").eq(today+lastNum-8).addClass("f-today");
                        }
                    }
                    //绑定选择方法
                    $(".f-number").off("click");
                    $(".f-number").on("click",function(){
                        $(".f-number").removeClass("f-on");
                        $(this).addClass("f-on");
                        var fday=$(this).find('.f-day').text();
                        console.log(fday);
                        var fdate=$(this).parents('.account-box').find('.f-riqi').text();
                        console.log(fdate);
                        var ftoday=fdate+'-'+fday;
                       // 插入程序
                   		$('.buy_date').val(ftoday);
                    }); 
            }
			$('.confirm_btn').click(function(event) {
				var list=document.querySelectorAll('.list_table');
					$('.content1').fadeOut();							
				})
		    $('.buy_date').click(function(event) {
		      $('.content1').slideToggle();
		      
		    });
            $(function(){
                $(".f-today").prevAll().addClass('bef_td').find('.f-day').css('color', '#ddd');
            })     
	</script>
</body>
</html>